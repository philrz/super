script: |
  super compile -C "from f1 | join (from f2) on left.x=right.x"
  echo ===
  super compile -C -dag -dynamic "from f1 | join (from f2) on right.x=left.x"
  echo ===
  super compile -C "from f1 | right join (from f2) as {l,r} on r.x=l.x"
  echo ===
  super compile -C -dag -dynamic "from f1 | right join (from f2) as {l,r} on r.x=l.x"

outputs:
  - name: stdout
    data: |
      from f1
      | join (
        from f2
      ) on left.x=right.x
      ===
      fork
        (
          file f1
        )
        (
          file f2
        )
      | inner join as {left,right} on right.x==left.x
      | output main
      ===
      from f1
      | right join (
        from f2
      ) as {l,r} on r.x=l.x
      ===
      fork
        (
          file f1
        )
        (
          file f2
        )
      | right join as {l,r} on r.x==l.x
      | output main
