# Test that group by expressions can be combined into complex select clauses.
script: |
  super -s -c '
    select a+b+c
    from (values (1,1,1),(2,2,2)) t(a,b,c)
    group by a+b, c
    order by 1'
  ! super -s -c '
    select b+a+c
    from (values (1,1,1),(2,2,2)) t(a,b,c)
    group by a+b,c'

outputs:
  - name: stdout
    data: |
      {"a+b+c":3}
      {"a+b+c":6}
  - name: stderr
    data: |
      column "b" must appear in GROUP BY clause at line 2, column 10:
        select b+a+c
               ~
      column "a" must appear in GROUP BY clause at line 2, column 12:
        select b+a+c
                 ~
